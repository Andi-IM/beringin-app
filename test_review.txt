node.exe : PASS src/infrastructure/repositories/in-memory.repository.test.ts
At line:1 char:1
+ & "C:\nvm4w\nodejs/node.exe" "C:\nvm4w\nodejs/node_modules/npm/bin/np ...
+ ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
    + CategoryInfo          : NotSpecified: (PASS src/infras...ository.test.ts:String) [], RemoteException
    + FullyQualifiedErrorId : NativeCommandError
 
  InMemoryConceptRepository
    findById
      ΓêÜ should return null when concept is not found (9 ms)
      ΓêÜ should return concept when found (3 ms)
    findAll
      ΓêÜ should return empty array when no concepts exist (2 ms)
      ΓêÜ should return all concepts (2 ms)
    findByCategory
      ΓêÜ should return empty array for non-existent category (2 ms)
      ΓêÜ should return concepts in specified category (2 ms)
    create
      ΓêÜ should create concept with generated id and timestamps (3 ms)
    update
      ΓêÜ should throw error when concept not found (24 ms)
      ΓêÜ should update concept and set new updatedAt timestamp (22 ms)
    delete
      ΓêÜ should not throw error when deleting non-existent concept (1 ms)
      ΓêÜ should delete existing concept

FAIL src/infrastructure/repositories/in-memory-question.repository.test.ts
  InMemoryQuestionRepository
    findById
      ΓêÜ should return null when question is not found (11 ms)
      ΓêÜ should return question when found (3 ms)
    findByConceptId
      ΓêÜ should return empty array for non-existent concept (2 ms)
      ΓêÜ should return questions for specific concept (2 ms)
    findDueQuestions
      ΓêÜ should return empty array when no due questions (2 ms)
      ├ù should return questions that are due for review (5 ms)
      ΓêÜ should return empty array for user with no progress (2 ms)
    create
      ├ù should create question with generated id and timestamps (5 ms)
      ΓêÜ should create different question types (2 ms)
    update
      ΓêÜ should throw error when question not found (12 ms)
      ├ù should update question and set new updatedAt timestamp (13 ms)
    delete
      ΓêÜ should not throw error when deleting non-existent question (1 ms)
      ΓêÜ should delete existing question (1 ms)

  ΓùÅ InMemoryQuestionRepository ΓÇ║ findDueQuestions ΓÇ║ should return questions that are due for review

    expect(received).toHaveLength(expected)

    Expected length: 1
    Received length: 0
    Received array:  []

    [0m [90m 147 |[39m         [36mconst[39m result [33m=[39m [36mawait[39m repository[33m.[39mfindDueQuestions([32m'user-1'[39m)
     [90m 148 |[39m
    [31m[1m>[22m[39m[90m 149 |[39m         expect(result)[33m.[39mtoHaveLength([35m1[39m)
     [90m     |[39m                        [31m[1m^[22m[39m
     [90m 150 |[39m         expect(result[[35m0[39m][33m.[39mconceptId)[33m.[39mtoBe([32m'concept-due'[39m)
     [90m 151 |[39m
     [90m 152 |[39m         global[33m.[39m[33mDate[39m [33m=[39m originalDate[0m

      at Object.toHaveLength (src/infrastructure/repositories/in-memory-question.repository.test.ts:149:24)

  ΓùÅ InMemoryQuestionRepository ΓÇ║ create ΓÇ║ should create question with generated id and timestamps

    expect(received).toBeInstanceOf(expected)

    Expected constructor: mockConstructor
    Received constructor: Date

    [0m [90m 194 |[39m       expect(result[33m.[39manswerCriteria)[33m.[39mtoBe(data[33m.[39manswerCriteria)
     [90m 195 |[39m       expect(result[33m.[39mtype)[33m.[39mtoBe(data[33m.[39mtype)
    [31m[1m>[22m[39m[90m 196 |[39m       expect(result[33m.[39mcreatedAt)[33m.[39mtoBeInstanceOf([33mDate[39m)
     [90m     |[39m                                [31m[1m^[22m[39m
     [90m 197 |[39m       expect(result[33m.[39mupdatedAt)[33m.[39mtoBeInstanceOf([33mDate[39m)
     [90m 198 |[39m       expect(result[33m.[39mcreatedAt)[33m.[39mtoEqual(result[33m.[39mupdatedAt)
     [90m 199 |[39m     })[0m

      at Object.toBeInstanceOf (src/infrastructure/repositories/in-memory-question.repository.test.ts:196:32)

  ΓùÅ InMemoryQuestionRepository ΓÇ║ update ΓÇ║ should update question and set new updatedAt timestamp

    expect(received).not.toEqual(expected) // deep equality

    Expected: not 2024-01-05T00:00:00.000Z

    [0m [90m 258 |[39m       expect(result[33m.[39mtype)[33m.[39mtoBe(question[33m.[39mtype) [90m// unchanged[39m
     [90m 259 |[39m       expect(result[33m.[39mcreatedAt)[33m.[39mtoEqual(question[33m.[39mcreatedAt) [90m// unchanged[39m
    [31m[1m>[22m[39m[90m 260 |[39m       expect(result[33m.[39mupdatedAt)[33m.[39mnot[33m.[39mtoEqual(originalUpdatedAt)
     [90m     |[39m                                    [31m[1m^[22m[39m
     [90m 261 |[39m       expect(result[33m.[39mupdatedAt)[33m.[39mtoBeInstanceOf([33mDate[39m)
     [90m 262 |[39m     })
     [90m 263 |[39m   })[0m

      at Object.toEqual (src/infrastructure/repositories/in-memory-question.repository.test.ts:260:36)

FAIL src/infrastructure/repositories/in-memory-progress.repository.test.ts
  InMemoryProgressRepository
    findByUserAndConcept
      ΓêÜ should return null when progress not found (13 ms)
      ├ù should return progress when found (2 ms)
      ΓêÜ should return null when user does not match (2 ms)
      ΓêÜ should return null when concept does not match (1 ms)
    findByUserId
      ΓêÜ should return empty array for non-existent user (2 ms)
      ΓêÜ should return all progress for specific user (3 ms)
    create
      ΓêÜ should create progress with generated timestamps (5 ms)
      ΓêÜ should create progress with empty history (2 ms)
    update
      ΓêÜ should throw error when progress not found (10 ms)
      ├ù should update progress and set new updatedAt timestamp (1 ms)
      ΓêÜ should update progress history (8 ms)
    delete
      ΓêÜ should not throw error when deleting non-existent progress (2 ms)
      ΓêÜ should delete existing progress
    Integration with other user progress
      ΓêÜ should not affect other users progress (1 ms)
      ├ù should not affect other concepts progress for same user (1 ms)

  ΓùÅ InMemoryProgressRepository ΓÇ║ findByUserAndConcept ΓÇ║ should return progress when found

    ReferenceError: progress is not defined

    [0m [90m 42 |[39m         [32m'concept-1'[39m[33m,[39m
     [90m 43 |[39m       )
    [31m[1m>[22m[39m[90m 44 |[39m       expect(result)[33m.[39mtoEqual(progress)
     [90m    |[39m                              [31m[1m^[22m[39m
     [90m 45 |[39m     })
     [90m 46 |[39m
     [90m 47 |[39m     it([32m'should return null when user does not match'[39m[33m,[39m [36masync[39m () [33m=>[39m {[0m

      at Object.progress (src/infrastructure/repositories/in-memory-progress.repository.test.ts:44:30)

  ΓùÅ InMemoryProgressRepository ΓÇ║ update ΓÇ║ should update progress and set new updatedAt timestamp

    ReferenceError: progress is not defined

    [0m [90m 199 |[39m       })
     [90m 200 |[39m
    [31m[1m>[22m[39m[90m 201 |[39m       [36mconst[39m originalUpdatedAt [33m=[39m progress[33m.[39mupdatedAt
     [90m     |[39m                                 [31m[1m^[22m[39m
     [90m 202 |[39m       [36mawait[39m [36mnew[39m [33mPromise[39m((resolve) [33m=>[39m setTimeout(resolve[33m,[39m 
[35m10[39m)) [90m// Small delay[39m
     [90m 203 |[39m
     [90m 204 |[39m       [36mconst[39m updateData [33m=[39m {[0m

      at Object.progress (src/infrastructure/repositories/in-memory-progress.repository.test.ts:201:33)

  ΓùÅ InMemoryProgressRepository ΓÇ║ Integration with other user progress ΓÇ║ should not affect other concepts progress for same user

    ReferenceError: concept2Progress is not defined

    [0m [90m 359 |[39m         [32m'concept-2'[39m[33m,[39m
     [90m 360 |[39m       )
    [31m[1m>[22m[39m[90m 361 |[39m       expect(unchangedProgress)[33m.[39mtoEqual(concept2Progress)
     [90m     |[39m                                         [31m[1m^[22m[39m
     [90m 362 |[39m
     [90m 363 |[39m       [90m// Check that concept 1 progress is updated[39m
     [90m 364 |[39m       [36mconst[39m updatedProgress [33m=[39m [36mawait[39m repository[33m.[39mfindByUserAndConcept([0m

      at Object.concept2Progress (src/infrastructure/repositories/in-memory-progress.repository.test.ts:361:41)

PASS src/application/usecases/getConceptStatus.usecase.test.ts
  getConceptStatus Use Case
    ΓêÜ should return concepts and stats for user (20 ms)
    ΓêÜ should return empty stats for user with no concepts (2 ms)
    ΓêÜ should correctly count lapsed concepts (2 ms)
    ΓêÜ should handle concepts with different statuses correctly (1 ms)
    ΓêÜ should call repository with correct userId (2 ms)

PASS src/application/usecases/getNextQuestion.usecase.test.ts
  getNextQuestion Use Case
    ΓêÜ should return the first due question when questions are available (19 ms)
    ΓêÜ should return null when no due questions are available (1 ms)
    ΓêÜ should handle single due question correctly (2 ms)
    ΓêÜ should handle different question types (2 ms)
    ΓêÜ should call repository with correct userId (2 ms)
    ΓêÜ should return correct total count regardless of question returned (2 ms)

PASS src/domain/policies/scheduler.policy.test.ts
  AdaptiveSchedulerPolicy
    calculateNextInterval
      Incorrect Answers
        ΓêÜ should reset to minimum interval for incorrect answer (13 ms)
        ΓêÜ should set status to lapsed when previous interval was stable (1 ms)
        ΓêÜ should not allow ease factor below minimum (1 ms)
        ΓêÜ should handle incorrect answer with different confidence levels (3 ms)
      Correct Answers with High Confidence
        ΓêÜ should increase interval and ease factor for high confidence correct answer (1 ms)
        ΓêÜ should set status to stable when interval exceeds threshold
        ΓêÜ should handle very small intervals (2 ms)
      Correct Answers with Low Confidence
        ΓêÜ should increase interval modestly for low confidence correct answer (2 ms)
        ΓêÜ should not allow ease factor below minimum for low confidence (1 ms)
        ΓêÜ should handle low confidence with large previous interval (1 ms)
      Correct Answers with No Confidence (Guessed)
        ΓêÜ should decrease interval for guessed correct answer (1 ms)
        ΓêÜ should not allow ease factor below minimum for guessed answer (1 ms)
        ΓêÜ should handle very small intervals for guessed answers (1 ms)
      Edge Cases
        ΓêÜ should handle maximum ease factor correctly (4 ms)
        ΓêÜ should handle zero previous interval (1 ms)
        ΓêÜ should handle negative confidence scenarios gracefully (1 ms)
        ΓêÜ should maintain consistent behavior across multiple correct high confidence answers (12 ms)
        ΓêÜ should handle consecutive incorrect answers (1 ms)
      Status Progression Logic
        ΓêÜ should follow correct status progression for new user (1 ms)
        ΓêÜ should handle fragile to learning transition

FAIL src/infrastructure/repositories/seed.test.ts
  seedData
    ΓêÜ should create concepts successfully (16 ms)
    ΓêÜ should create questions for each concept (4 ms)
    ΓêÜ should create initial progress for demo-user (9 ms)
    ΓêÜ should create progress with nextReview set to current time (10 ms)
    ΓêÜ should log success message (3 ms)
    ΓêÜ should create concepts with proper structure (7 ms)
    ΓêÜ should create questions with proper structure (4 ms)
    ΓêÜ should create progress with proper structure (7 ms)
    ├ù should handle seeding data multiple times (8 ms)
    ΓêÜ should maintain referential integrity between concepts and questions (2 ms)
    ΓêÜ should maintain referential integrity between concepts and progress (3 ms)

  ΓùÅ seedData ΓÇ║ should handle seeding data multiple times

    expect(received).toHaveLength(expected)

    Expected length: 12
    Received length: 6
    Received array:  [{"category": "Networking", "createdAt": 2026-02-10T02:33:14.665Z, "description": "Proses koneksi tiga langkah dalam 
protokol TCP", "id": "3og8j", "title": "TCP Handshake", "updatedAt": 2026-02-10T02:33:14.665Z}, {"category": "Wawasan Kebangsaan", 
"createdAt": 2026-02-10T02:33:14.665Z, "description": "Kerakyatan yang dipimpin oleh hikmat kebijaksanaan dalam permusyawaratan/perwakilan", 
"id": "1ym8xm", "title": "Pancasila Sila 4", "updatedAt": 2026-02-10T02:33:14.665Z}, {"category": "Security", "createdAt": 
2026-02-10T02:33:14.665Z, "description": "Distributed Denial of Service - serangan dari banyak sumber", "id": "h02iec", "title": "DDoS 
Attack", "updatedAt": 2026-02-10T02:33:14.665Z}, {"category": "Networking", "createdAt": 2026-02-10T02:33:14.665Z, "description": "Proses 
koneksi tiga langkah dalam protokol TCP", "id": "klldbj", "title": "TCP Handshake", "updatedAt": 2026-02-10T02:33:14.665Z}, {"category": 
"Wawasan Kebangsaan", "createdAt": 2026-02-10T02:33:14.665Z, "description": "Kerakyatan yang dipimpin oleh hikmat kebijaksanaan dalam 
permusyawaratan/perwakilan", "id": "pvkhsl", "title": "Pancasila Sila 4", "updatedAt": 2026-02-10T02:33:14.665Z}, {"category": "Security", 
"createdAt": 2026-02-10T02:33:14.665Z, "description": "Distributed Denial of Service - serangan dari banyak sumber", "id": "uzwgkf", "title": 
"DDoS Attack", "updatedAt": 2026-02-10T02:33:14.665Z}]

    [0m [90m 205 |[39m
     [90m 206 |[39m     [90m// Should have double the data (since we're using in-memory store)[39m
    [31m[1m>[22m[39m[90m 207 |[39m     expect(secondConcepts)[33m.[39mtoHaveLength(firstConcepts[33m.[39mlength [33m*[39m 
[35m2[39m)
     [90m     |[39m                            [31m[1m^[22m[39m
     [90m 208 |[39m     expect(secondQuestions)[33m.[39mtoHaveLength(firstQuestions[33m.[39mlength [33m*[39m [35m2[39m)
     [90m 209 |[39m     expect(secondProgress)[33m.[39mtoHaveLength(firstProgress[33m.[39mlength [33m*[39m [35m2[39m)
     [90m 210 |[39m   })[0m

      at Object.toHaveLength (src/infrastructure/repositories/seed.test.ts:207:28)

PASS src/application/usecases/submitAnswer.usecase.test.ts
  submitAnswer Use Case
    ΓêÜ should create new progress for first-time user (11 ms)
    ΓêÜ should update existing progress for returning user (2 ms)
    ΓêÜ should handle correct answer with high confidence (3 ms)
    ΓêÜ should handle incorrect answer with low confidence (2 ms)
    ΓêÜ should calculate next review date correctly (1 ms)
    ΓêÜ should append to existing history (1 ms)
    ΓêÜ should handle none confidence (2 ms)

PASS src/domain/entities/concept.entity.test.ts
  Concept Entity
    Concept Type
      ΓêÜ should create a valid concept (2 ms)
      ΓêÜ should create a concept with optional parentId (1 ms)
      ΓêÜ should create a concept without parentId (1 ms)
    ConceptWithStatus Type
      ΓêÜ should create a concept with full status information (2 ms)
      ΓêÜ should create a concept without optional review fields (1 ms)
    ConceptStatus Type
      ΓêÜ should accept all valid concept statuses (1 ms)

PASS src/domain/entities/user-progress.entity.test.ts
  UserProgress Entity
    ProgressHistory Type
      ΓêÜ should create a valid progress history entry (2 ms)
      ΓêÜ should create a progress history entry with incorrect result (1 ms)
      ΓêÜ should create a progress history entry with no confidence
    UserProgress Type
      ΓêÜ should create a valid user progress entry (2 ms)
      ΓêÜ should create a user progress entry with empty history (2 ms)
      ΓêÜ should create a user progress entry with stable status (3 ms)
    Status Integration
      ΓêÜ should work with all concept statuses (2 ms)

PASS src/domain/entities/question.entity.test.ts
  Question Entity
    Question Type
      ΓêÜ should create a valid text question (6 ms)
      ΓêÜ should create a valid voice question (1 ms)
      ΓêÜ should create a valid cloze question (1 ms)
    QuestionWithAnswer Type
      ΓêÜ should create a question with complete answer information (1 ms)
      ΓêÜ should create a question without optional answer fields (2 ms)
      ΓêÜ should create a question with incorrect answer (1 ms)
    QuestionType Type
      ΓêÜ should accept all valid question types (3 ms)

  console.error
    An update to DashboardPage inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

    [0m [90m 26 |[39m   [36masync[39m [36mfunction[39m loadDashboard() {
     [90m 27 |[39m     [36mconst[39m result [33m=[39m [36mawait[39m [33mRegistry[39m[33m.[39mgetDashboardData(userId)
    [31m[1m>[22m[39m[90m 28 |[39m     setConcepts(result[33m.[39mconcepts)
     [90m    |[39m     [31m[1m^[22m[39m
     [90m 29 |[39m     setStats(result[33m.[39mstats)
     [90m 30 |[39m   }
     [90m 31 |[39m[0m

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at setConcepts (src/app/dashboard/page.tsx:28:5)

  console.error
    An update to DashboardPage inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

    [0m [90m 27 |[39m     [36mconst[39m result [33m=[39m [36mawait[39m [33mRegistry[39m[33m.[39mgetDashboardData(userId)
     [90m 28 |[39m     setConcepts(result[33m.[39mconcepts)
    [31m[1m>[22m[39m[90m 29 |[39m     setStats(result[33m.[39mstats)
     [90m    |[39m     [31m[1m^[22m[39m
     [90m 30 |[39m   }
     [90m 31 |[39m
     [90m 32 |[39m   [36mfunction[39m getStatusColor(status[33m:[39m string) {[0m

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at setStats (src/app/dashboard/page.tsx:29:5)

  console.error
    In HTML, <html> cannot be a child of <div>.
    This will cause a hydration error.

    [0m [90m 11 |[39m describe([32m'RootLayout'[39m[33m,[39m () [33m=>[39m {
     [90m 12 |[39m   it([32m'renders with correct HTML structure'[39m[33m,[39m () [33m=>[39m {
    [31m[1m>[22m[39m[90m 13 |[39m     [36mconst[39m { container } [33m=[39m render(
     [90m    |[39m                                 [31m[1m^[22m[39m
     [90m 14 |[39m       [33m<[39m[33mRootLayout[39m[33m>[39m
     [90m 15 |[39m         [33m<[39m[33mdiv[39m[33m>[39m[33mTest[39m [33mChildren[39m[33m<[39m[33m/[39m[33mdiv[39m[33m>[39m
     [90m 16 |[39m       [33m<[39m[33m/[39m[33mRootLayout[39m[33m>[39m[33m,[39m[0m

      at validateDOMNesting (node_modules/react-dom/cjs/react-dom-client.development.js:2598:19)
      at resolveSingletonInstance (node_modules/react-dom/cjs/react-dom-client.development.js:22598:9)
      at completeWork (node_modules/react-dom/cjs/react-dom-client.development.js:12525:29)
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at completeUnitOfWork (node_modules/react-dom/cjs/react-dom-client.development.js:17777:19)
      at performUnitOfWork (node_modules/react-dom/cjs/react-dom-client.development.js:17658:11)
      at workLoopSync (node_modules/react-dom/cjs/react-dom-client.development.js:17469:41)
      at renderRootSync (node_modules/react-dom/cjs/react-dom-client.development.js:17450:11)
      at performWorkOnRoot (node_modules/react-dom/cjs/react-dom-client.development.js:16504:11)
      at performWorkOnRootViaSchedulerTask (node_modules/react-dom/cjs/react-dom-client.development.js:18957:7)
      at flushActQueue (node_modules/react/cjs/react.development.js:590:34)
      at process.env.NODE_ENV.exports.act (node_modules/react/cjs/react.development.js:884:10)
      at node_modules/@testing-library/react/dist/act-compat.js:46:25
      at renderRoot (node_modules/@testing-library/react/dist/pure.js:189:26)
      at render (node_modules/@testing-library/react/dist/pure.js:291:10)
      at Object.<anonymous> (src/app/layout.test.tsx:13:33)

  console.error
    An update to DashboardPage inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

    [0m [90m 26 |[39m   [36masync[39m [36mfunction[39m loadDashboard() {
     [90m 27 |[39m     [36mconst[39m result [33m=[39m [36mawait[39m [33mRegistry[39m[33m.[39mgetDashboardData(userId)
    [31m[1m>[22m[39m[90m 28 |[39m     setConcepts(result[33m.[39mconcepts)
     [90m    |[39m     [31m[1m^[22m[39m
     [90m 29 |[39m     setStats(result[33m.[39mstats)
     [90m 30 |[39m   }
     [90m 31 |[39m[0m

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at setConcepts (src/app/dashboard/page.tsx:28:5)

  console.error
    An update to DashboardPage inside a test was not wrapped in act(...).
    
    When testing, code that causes React state updates should be wrapped into act(...):
    
    act(() => {
      /* fire events that update state */
    });
    /* assert on the output */
    
    This ensures that you're testing the behavior the user would see in the browser. Learn more at https://react.dev/link/wrap-tests-with-act

    [0m [90m 27 |[39m     [36mconst[39m result [33m=[39m [36mawait[39m [33mRegistry[39m[33m.[39mgetDashboardData(userId)
     [90m 28 |[39m     setConcepts(result[33m.[39mconcepts)
    [31m[1m>[22m[39m[90m 29 |[39m     setStats(result[33m.[39mstats)
     [90m    |[39m     [31m[1m^[22m[39m
     [90m 30 |[39m   }
     [90m 31 |[39m
     [90m 32 |[39m   [36mfunction[39m getStatusColor(status[33m:[39m string) {[0m

      at node_modules/react-dom/cjs/react-dom-client.development.js:18758:19
      at runWithFiberInDEV (node_modules/react-dom/cjs/react-dom-client.development.js:874:13)
      at warnIfUpdatesNotWrappedWithActDEV (node_modules/react-dom/cjs/react-dom-client.development.js:18757:9)
      at scheduleUpdateOnFiber (node_modules/react-dom/cjs/react-dom-client.development.js:16409:11)
      at dispatchSetStateInternal (node_modules/react-dom/cjs/react-dom-client.development.js:9170:13)
      at dispatchSetState (node_modules/react-dom/cjs/react-dom-client.development.js:9127:7)
      at setStats (src/app/dashboard/page.tsx:29:5)

PASS src/app/layout.test.tsx
  RootLayout
    ΓêÜ renders with correct HTML structure (94 ms)
    ΓêÜ applies correct font variable class (5 ms)
    ΓêÜ renders children content (16 ms)
    ΓêÜ handles multiple children (7 ms)
    ΓêÜ handles complex children structure (7 ms)
    ΓêÜ has correct metadata export

PASS src/app/page.test.tsx
  HomePage
    ΓêÜ renders the main title and tagline (67 ms)
    ΓêÜ renders navigation buttons (10 ms)
    ΓêÜ seeds data on first load when not previously seeded (6 ms)
    ΓêÜ does not seed data when already seeded (4 ms)
    ΓêÜ handles localStorage gracefully when not available (5 ms)
    ΓêÜ sets seeded flag after seeding data (3 ms)
    ΓêÜ has correct styling classes (57 ms)

PASS src/app/dashboard/page.test.tsx
  DashboardPage
    ΓêÜ renders dashboard title and subtitle (173 ms)
    ΓêÜ calls Registry.getDashboardData on mount (16 ms)
    ΓêÜ displays stats correctly (63 ms)
    ΓêÜ displays concept list when concepts exist (33 ms)
    ΓêÜ displays category tags (31 ms)
    ΓêÜ displays next review date when available (32 ms)
    ΓêÜ shows empty state when no concepts exist (14 ms)
    ΓêÜ renders action buttons (16 ms)
    ΓêÜ applies correct status colors and labels (16 ms)
    ΓêÜ handles different status types correctly (15 ms)
    ΓêÜ formats review date correctly for Indonesian locale (11 ms)
    ΓêÜ handles loading state gracefully (4 ms)

PASS src/app/session/page.test.tsx
  SessionPage
    ΓêÜ renders session page with question (75 ms)
    ΓêÜ renders completion state when no questions available (21 ms)
    ΓêÜ allows user to type answer (249 ms)
    ΓêÜ shows answer section when user clicks show answer (94 ms)
    ΓêÜ allows user to select correctness (199 ms)
    ΓêÜ allows user to select confidence level (264 ms)
    ΓêÜ enables submit button only when correctness and confidence are selected (264 ms)
    ΓêÜ submits answer and loads next question (281 ms)
    ΓêÜ handles empty answer correctly (97 ms)
    ΓêÜ calculates response time correctly (282 ms)
    ΓêÜ handles different question types (30 ms)
    ΓêÜ handles submit when no correctness selected (219 ms)
    ΓêÜ handles submit when no confidence selected (204 ms)

Test Suites: 3 failed, 12 passed, 15 total
Tests:       7 failed, 139 passed, 146 total
Snapshots:   0 total
Time:        5.426 s
Ran all test suites.
